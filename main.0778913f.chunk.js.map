{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["toast","configure","autoClose","draggable","hideProgressBar","URL_PREFIX","checkStatus","res","ok","console","log","statusText","sectionMapping","section","toUpperCase","override","css","SharingToast","source","handler","Modal","show","onHide","Header","closeButton","Title","webTitle","Body","className","FacebookShareButton","data-tip","data-effect","url","hashtag","children","FacebookIcon","size","round","TwitterShareButton","hashtags","TwitterIcon","EmailShareButton","subject","EmailIcon","AwesomeComponent","props","state","loading","color","this","Component","Search","onInputChange","value","action","length","fetchURL","fetch","headers","then","response","json","data","results","suggestionGroups","searchSuggestions","map","result","label","displayText","setState","error","handleResultSelect","e","selectedResult","history","search","push","placeholder","noOptionsMessage","searchValue","options","onChange","FullArticle","full","sharing","handleClick","bind","showToast","to","id","type","inSearch","removeBookmark","cols","key","ArticleDetailedCard","expanded","bookmarked","checked","expand","addToBookmarks","myRef","React","createRef","ref","setTimeout","current","scrollIntoView","behavior","block","removeCommentBox","commentBox","requestAnimationFrame","scroll","addBookmark","body","bodyText","replace","bodyTextSummary","theresBody","Container","fluid","Row","Col","xs","webPublicationDate","split","onClick","src","image","md","ArticleCard","unsafeHTML","maxLine","ellipsis","basedOn","Badge","variant","sectionName","toLowerCase","SwitchExample","uncheckedIcon","checkedIcon","onColor","offColor","updateNewsSource","ArticleCardGenerator","generatedCards","articles","nyArticles","gArticles","gUrl","appState","nUrl","localSaved","localStorage","getItem","savedArticles","JSON","parse","swapArticles","setItem","stringify","article","onComplete","fetchArticles","prevProps","pageChanged","SearchResultsPage","query","hideToggle","q","queryString","location","fetchArticle","FullPageArticle","path","resetSearch","inBookmarks","SearchWithRouter","withRouter","NewsApp","isChanging","showBookmarks","showToggle","bookmarkedArticles","doneSwitchingArticles","showBookmarked","document","title","newArray","filter","a","position","POSITION","TOP_CENTER","some","keyword","Navbar","bg","Toggle","aria-controls","Collapse","Nav","data-place","render","Boolean","window","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.0778913f.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col'\n\nimport { Nav, Row} from 'react-bootstrap';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Select from 'react-select';\nimport Switch from \"react-switch\";\nimport ReactTooltip from 'react-tooltip'\nimport HTMLEllipsis from 'react-lines-ellipsis/lib/html'\nimport Badge from 'react-bootstrap/Badge'\nimport { FaRegBookmark, FaBookmark, FaTrash } from 'react-icons/fa';\nimport { IoIosArrowDown, IoIosArrowUp } from 'react-icons/io';\nimport { MdShare } from 'react-icons/md';\nimport Modal from 'react-bootstrap/Modal'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { css } from \"@emotion/core\";\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport queryString from 'query-string';\nimport {\n    BrowserRouter as Router,\n    Switch as Switcher,\n    withRouter,\n    Route,\n    Redirect,\n    useLocation,\n    Link\n} from \"react-router-dom\";\n\nimport {\n    EmailShareButton,\n    FacebookShareButton,\n    TwitterShareButton,\n    EmailIcon,\n    FacebookIcon,\n    TwitterIcon,\n} from \"react-share\";\n\nimport commentBox from 'commentbox.io';\nimport './App.css';\n\ntoast.configure({\n    autoClose: 1000,\n    draggable: false,\n    hideProgressBar: true,\n});\n\n\nlet URL_PREFIX = \"http://localhost:3001/\";\n// let URL_PREFIX = \"https://hw8-dulaim.uc.r.appspot.com/\"\n\nlet COMMENTBOXID = \"5760999403552768-proj\";\n\n\nfunction checkStatus(res) {\n    if (res.ok) {\n        // res.status >= 200 && res.status < 300\n        return res;\n    } else {\n        console.log(res.statusText);\n    }\n}\nfunction sectionMapping(section){\n\n    if (section === \"sport\"){\n        return \"SPORTS\"\n    }\n\n\n    if (section === \"world\" ||\n        section === \"politics\"||\n        section === \"business\"||\n        section === \"technology\"||\n        section === \"sports\"\n    ){\n        return section.toUpperCase()\n    }\n    else {\n        return \"health\".toUpperCase()\n    }\n\n}\n\nconst override = css`\n  display: block;\n  margin-top: 200px;\n  margin-left: auto;\n  margin-right: auto;\n  border-color: blue;\n`;\n\n\n\nconst SharingToast = ({ source, handler }) => (\n\n    <Modal show={true} onHide={handler}>\n        <Modal.Header closeButton>\n            <Modal.Title> {source.webTitle}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n\n            <div className={\"p-1 text-center paddedButtonDiv\"}>\n                Share via\n                <br/>\n                <br/>\n                <FacebookShareButton data-tip=\"Facebook\" data-effect=\"solid\" url={source.url}  hashtag={\"#CSCI_571_NewsApp\"} children={<FacebookIcon size={50} round={true} />}/>\n                <TwitterShareButton data-tip=\"Twitter\" data-effect=\"solid\" url={source.url}  hashtags={[\"CSCI_571_NewsApp\"]} children={<TwitterIcon size={50} round={true} />}/>\n                <EmailShareButton data-tip=\"Email\" data-effect=\"solid\" url={source.url}  subject={\"#CSCI_571_NewsApp\"} children={<EmailIcon size={50} round={true} />}/>\n                <br/>\n            </div>\n\n        </Modal.Body>\n\n    </Modal>\n\n);\n\n\nclass AwesomeComponent extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true\n        };\n    }\n\n    render() {\n\n        return (\n            <div className=\"sweet-loading p-5\">\n\n                <BounceLoader\n                    css={override}\n                    size={60}\n                    color={\"#123abc\"}\n                    loading={this.props.loading}\n                />\n                <div className=\"loadingMessage\">Loading...</div>\n\n            </div>\n\n        );\n    }\n}\n\nclass Search extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            results: [],\n            selectedResult: null };\n\n    }\n\n    onInputChange =  (value, { action }) => {\n\n        // console.log(\"handle called \");\n\n        if (value === \"\" || value.length < 2){\n            return;\n        }\n\n        const fetchURL = `https://dulaimy.cognitiveservices.azure.com/bing/v7.0/suggestions?q=${value}`;\n        const headerPayload =    {\n                headers: {\n                    \"Ocp-Apim-Subscription-Key\": \"1e2e1fb6ae3741009656d0d25e5254f3\"\n                }\n        };\n\n        try {\n\n            fetch(fetchURL, headerPayload)\n                .then(checkStatus)\n                .then(response => {\n\n                    if (!response) {\n                        return\n                    }\n                response.json().then(data => {\n\n                    try {\n\n                        const resultsRaw = data.suggestionGroups[0].searchSuggestions;\n                        const results = resultsRaw.map(result => ({label: result.displayText, value: result.displayText}));\n                        this.setState({results});\n\n                    } catch (error) {\n                        // console.error(`Error fetching search ${value}`);\n                        // console.error(`Error fetching search ${error}`);\n                    }\n\n                });\n            });\n\n        } catch (error) {\n            // console.error(`Error fetching search ${value}`);\n            // console.error(`Error fetching search ${error}`);\n        }\n\n    };\n\n    handleResultSelect = (e, { result }) => {\n        console.log(`clicked: ${e.value}`);\n        this.setState({ selectedResult: result });\n\n        // toast(\"Searching \"+ e.value, {\n        //     className: 'foo-bar',\n        //     position: toast.POSITION.TOP_CENTER\n        // });\n\n        const {history} = this.props;\n        this.props.search(e.value);\n        history.push(\"/search?q=\"+e.value)\n\n    };\n\n\n    render() {\n\n        return (\n\n            <>\n                <Select\n                    placeholder={\"Enter keyword ..\"}\n                    noOptionsMessage={() => \"No matches\"}\n                    value = {this.props.searchValue}\n                    options={this.state.results}\n                        onInputChange={this.onInputChange}\n                        onChange={this.handleResultSelect}\n                />\n            </>\n        );\n    }\n\n};\n\nclass FullArticle extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            full: false,\n            sharing: false\n        };\n\n        this.handleClick = this.handleClick.bind(this);\n        this.showToast = this.showToast.bind(this);\n\n    }\n\n    componentDidMount() {\n        // if (this.props.type == \"small\"){\n        //     this.hideToggle();\n        // }\n    }\n\n    handleClick() {\n        this.setState({full: true})\n    }\n\n    showToast() {\n        this.setState({sharing: !this.state.sharing})\n    }\n\n    render() {\n\n        if (this.state.full){\n            return (<Redirect to={\"/article?path=\"+this.props.source.id+\"&type=\"+this.props.source.type} />)\n        }\n\n        return (\n        <>\n            {this.state.sharing && <SharingToast source={this.props.source} handler={this.showToast} />}\n            <ArticleCard inSearch={this.props.inSearch} removeBookmark={this.props.removeBookmark} type={this.props.type} cols={this.props.cols} source={this.props.source} handler={this.handleClick} showToast={this.showToast} key={this.props.source.webTitle} />\n        </>\n        )\n\n    }\n\n}\n\nclass ArticleDetailedCard extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            expanded: false,\n            bookmarked: this.props.checked,\n        };\n\n        this.expand = this.expand.bind(this);\n        this.addToBookmarks = this.addToBookmarks.bind(this);\n\n        this.myRef = React.createRef();\n\n    }\n\n    scroll(ref) {\n\n        setTimeout(() => {\n            ref.current.scrollIntoView({behavior: 'smooth', block: \"start\"})\n        }, 100);\n\n    }\n\n    componentDidMount() {\n        this.removeCommentBox = commentBox(COMMENTBOXID);\n        commentBox(COMMENTBOXID);\n    }\n\n    componentWillUnmount() {\n        this.removeCommentBox();\n    }\n\n    expand(){\n\n        requestAnimationFrame(() => {\n            this.setState({expanded: !this.state.expanded}, this.scroll(this.myRef));\n        });\n\n    }\n\n    addToBookmarks(){\n        this.setState({bookmarked: !this.state.bookmarked});\n\n        let text = \"Saving \";\n        if (this.state.bookmarked){\n            text =  \"Removing \";\n            this.props.removeBookmark(this.props.source);\n        }\n        else {\n            this.props.addBookmark(this.props.source);\n        }\n\n    }\n\n    render(){\n\n        let source = this.props.source;\n\n        let body = (source.bodyText).replace(source.bodyTextSummary, '');\n        let theresBody = body.length > 0;\n\n        return (\n\n            <Container fluid>\n\n                <Row className=\"row articleCardDetailed mt-3 mb-5\" >\n\n                    <Col xs={12} className=\"articleSmallContent p-3\">\n\n                        <div className=\"articleTitleDetailed\"> {source.webTitle} </div>\n                        <div><span className=\"articleDateDetailed\">{source.webPublicationDate.split(\"T\")[0]}</span></div>\n\n                        <div className={\"shareDetailed text-center\"}>\n\n                            <FacebookShareButton data-tip=\"Facebook\" data-effect=\"solid\" url={source.url}  hashtag={\"#CSCI_571_NewsApp\"} children={<FacebookIcon size={32} round={true} />}/>\n                            <TwitterShareButton data-tip=\"Twitter\" data-effect=\"solid\" url={source.url}  hashtags={[\"CSCI_571_NewsApp\"]} children={<TwitterIcon size={32} round={true} />}/>\n                            <EmailShareButton data-tip=\"Email\" data-effect=\"solid\" url={source.url}  subject={\"#CSCI_571_NewsApp\"} children={<EmailIcon size={32} round={true} />}/>\n\n                            <div className=\"bookmarkDetailed\" data-tip=\"Bookmark\" data-effect=\"solid\" onClick={this.addToBookmarks}> {this.state.bookmarked &&  <FaBookmark color={\"red\"} size={32}/> || <FaRegBookmark color={\"red\"} size={32}/>}  </div>\n                            <ReactTooltip/>\n\n                        </div>\n\n                    </Col>\n\n\n                    <Col xs={12} className=\"articleCardDetailedImage p-3\">\n\n                        <img src={source.image}></img>\n                        {/*<div style={{backgroundImage: `url(${source.image})`}}> </div>*/}\n\n\n                    </Col>\n\n                    <Col xs={12} id={\"\"} className={\"articleSummaryDetailed \" + \"expanded-\"+this.state.expanded} ref={this.myRef}>\n                        {source.bodyTextSummary + \"\\n\\n\\n\\n\"}\n                        <p>{theresBody && body}</p>\n                    </Col>\n\n                    <div className={\"dropdown\"} onClick={theresBody && this.expand || null}>{ theresBody && !this.state.expanded && <IoIosArrowDown size={25} /> ||  theresBody && <IoIosArrowUp size={25} /> }</div>\n\n                </Row>\n\n                <Row> <Col xs={12} md={6} className=\"commentbox\" id={source.url} /></Row>\n\n            </Container>)\n\n    }\n\n}\n\nclass ArticleCard extends Component {\n\n    render() {\n\n        let type = this.props.type,\n            cols = this.props.cols,\n            source = this.props.source,\n            handler = this.props.handler,\n            showToast = this.props.showToast,\n            inSearch = this.props.inSearch,\n            removeBookmark = this.props.removeBookmark;\n\n\n        return (\n            <Col className={type === \"small\" && \"p-4 mt-3 mb-5\" || \"articleCard mt-3 mb-5\"} xs={12} md={cols}>\n\n                <Row className={\"articleCard\"}>\n\n                    {type !== \"small\" && <Col xs={12} md={type === \"small\" && 12 || 3} className=\"articleCardImage p-3\" onClick={handler}>\n                        <img src={source.image}/>\n                    </Col>}\n\n\n                    <Col xs={12} md={type === \"small\" && 12 || 9} className=\"articleSmallContent p-3\">\n\n                        <div className=\"articleTitle\"> <div className={\"articleTitleText\"} onClick={handler}> {source.webTitle} </div> <MdShare size={15} onClick={showToast}/> {type === \"small\" && !inSearch && <FaTrash size={15} onClick={() => { removeBookmark(source) } }/> } </div>\n\n\n                        <div className=\"articleSummary\" onClick={handler}>\n\n                            {type !== \"small\" && <HTMLEllipsis\n                                unsafeHTML={source.bodyTextSummary}\n                                maxLine='3'\n                                ellipsis='...'\n                                basedOn='words'\n                            />\n                            }\n\n                        </div>\n\n                        {type === \"small\" &&\n                        <Col xs={12} md={type === \"small\" && 12 || 3} className=\"articleCardImage p-3\" onClick={handler}>\n                            <img src={source.image}/>\n                        </Col>}\n\n\n                        <div className=\"chiclets mt-3 mb-3\">\n                            <span className=\"articleDate\">{source.webPublicationDate.split(\"T\")[0]}</span>\n\n                            <span className=\"articleType\">\n\n                                <Badge variant={sectionMapping(source.sectionName).toLowerCase()}>{inSearch ? source.sectionName.toUpperCase() : sectionMapping(source.sectionName)}</Badge>{' '}\n\n                                    {type === \"small\" && !inSearch && <Badge\n                                        variant={source.type === \"nyt\" ? \"nFav\" : \"gFav\"}>{source.type === \"nyt\" ? \"NYTimes\" : \"GUARDIAN\"}</Badge>}\n\n                            </span>\n                        </div>\n\n                    </Col>\n\n                </Row>\n\n            </Col>\n        )\n\n    }\n\n}\n\n\nclass SwitchExample extends Component {\n\n    render() {\n        return (\n            <Row>\n                <Col xs={12} md={4} className=\"white newsLabel\">NYTimes</Col>\n               <Switch className=\"customSwitch\" uncheckedIcon={false} checkedIcon={false} onColor=\"#2487e9\" offColor=\"#d8d8d8\" onChange={this.props.updateNewsSource} checked={this.props.checked} />\n                <Col xs={12} md={4} className=\"white newsLabel\">Guardian</Col>\n            </Row>\n        );\n    }\n\n}\n\n\nclass ArticleCardGenerator extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            articles: [],\n            nyArticles: [],\n            gArticles: [],\n        };\n    }\n\n    async fetchArticles() {\n\n        console.log(\"\\n cold load\");\n\n        let gUrl = this.props.appState.gUrl;\n        let nUrl = this.props.appState.nUrl;\n\n        if (this.props.section !== \"\"){\n            gUrl += \"/section/\" + this.props.section;\n            nUrl += \"/section/\" + this.props.section;\n        }\n\n\n        let localSaved = localStorage.getItem(gUrl);\n\n        if (localSaved){\n            let savedArticles = JSON.parse(localSaved);\n            this.setState({nyArticles: savedArticles.nyArticles, gArticles: savedArticles.gArticles}, this.swapArticles);\n            return\n        }\n\n        fetch(gUrl).then(response => {\n\n            if (!response) {\n                return\n            }\n            response.json().then(gArticles => {\n\n                try {\n\n                    fetch(nUrl).then(response => {\n\n                        if (!response) {\n                            return\n                        }\n                        response.json().then(nyArticles => {\n\n                            try {\n                                localStorage.setItem(gUrl, JSON.stringify({nyArticles: nyArticles, gArticles: gArticles}));\n                                this.setState({nyArticles: nyArticles, gArticles: gArticles}, this.swapArticles);\n\n                            } catch (error) {\n\n                            }\n\n                        });\n\n                    });\n\n\n                } catch (error) {\n\n                }\n\n            });\n\n        });\n\n    }\n\n    generatedCards = [];\n\n    async swapArticles () {\n\n        console.log(\"swapping\");\n\n        if (this.props.appState.checked){\n\n            this.generatedCards = this.state.gArticles.map(article => (\n\n                <FullArticle cols={this.props.cols} source={article} key={article.webTitle} />\n\n        ));\n\n            this.props.onComplete(true);\n            this.setState({articles: this.state.gArticles})\n        }\n\n        else {\n\n            this.generatedCards = this.state.nyArticles.map(article => (\n                <FullArticle cols={this.props.cols}  source={article}  key={article.webTitle} />\n            ));\n\n            this.props.onComplete(true);\n            this.setState({articles: this.state.nyArticles})\n        }\n\n    };\n\n    componentDidMount() {\n        this.fetchArticles();\n    }\n\n    componentDidUpdate(prevProps) {\n        this.generatedCards = [];\n\n        let pageChanged = this.props.section !== prevProps.section;\n        let sourceChanged = this.props.appState.checked !== prevProps.appState.checked;\n\n        if (sourceChanged && !pageChanged) {\n            this.swapArticles();\n        }\n        else if (pageChanged){\n            this.fetchArticles();\n        }\n\n    }\n\n   render() {\n\n       return (this.generatedCards.length > 0 ? <Row> {this.generatedCards} </Row> : <AwesomeComponent>Loading...</AwesomeComponent>)\n\n   }\n\n\n}\n\nclass SearchResultsPage extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            articles : []\n        };\n    }\n\n\n    fetchArticle(query){\n\n        let url = URL_PREFIX + \"search?q=\" + query;\n\n        try {\n\n            fetch(url).then(response => {\n\n                if (!response) {\n                    return\n                }\n\n                response.json().then(articles => {\n\n                    try {\n                        this.setState({articles: articles});\n\n                    } catch (error) {\n\n                    }\n\n                });\n\n            });\n\n\n        } catch (error) {\n\n        }\n\n    }\n\n\n    componentDidMount() {\n\n        this.props.hideToggle();\n        const q = queryString.parse(this.props.location.search).q;\n        this.fetchArticle(q);\n\n    }\n\n    render() {\n\n        return (this.state.articles.length > 0 ?\n\n            <>\n            <h2 className={\"centered mt-3\"}>Results</h2>\n            <Row>\n                {this.state.articles.map(article => (<FullArticle type= {\"small\"}\n                                                                  inSearch={true}\n                                                                  cols={3}\n                                                                  source={article}\n                                                                  key={article.webTitle}\n                                                                  handler={this.handleClick} />))}\n            </Row>\n            </>\n\n            : <AwesomeComponent>Loading...</AwesomeComponent>)\n    }\n}\n\n\nclass FullPageArticle extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            article : {}\n        };\n    }\n\n\n    fetchArticle(path, type){\n\n        let url = URL_PREFIX + \"guardian\" +\"/grab?path=\" + path;\n        if (type !== \"g\"){\n            url = URL_PREFIX + \"nyt\" +\"/grab?path=\" + path\n        }\n\n        try {\n\n            fetch(url).then(response => {\n\n                if (!response) {\n                    return\n                }\n\n                response.json().then(article => {\n\n                    try {\n                        this.setState({article: article[0]});\n\n                    } catch (error) {\n\n                    }\n\n                });\n\n            });\n\n\n        } catch (error) {\n            console.log(\"fetch mistake\")\n        }\n\n    }\n\n\n    componentDidMount() {\n\n        this.props.hideToggle();\n        this.props.resetSearch();\n\n        const path = queryString.parse(this.props.location.search).path;\n        const type = queryString.parse(this.props.location.search).type;\n        this.fetchArticle(path, type);\n\n    }\n\n    render() {\n        return (this.state.article.webTitle ?\n\n            <ArticleDetailedCard source={this.state.article}\n                                 checked={this.props.inBookmarks(this.state.article)}\n                                 addBookmark={this.props.addBookmark}\n                                 removeBookmark={this.props.removeBookmark}\n                                 handler={this.handleClick}\n                                 key={this.state.article.webTitle} />\n\n            : <AwesomeComponent>Loading...</AwesomeComponent>)\n    }\n}\nconst SearchWithRouter = withRouter(Search);\n\n\nclass NewsApp extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            checked: localStorage.getItem('checked') == `true` || false,\n            gUrl: URL_PREFIX+\"guardian\",\n            nUrl: URL_PREFIX+\"nyt\",\n            isChanging: true,\n            showBookmarks: false,\n            showToggle: true,\n            bookmarkedArticles : [],\n            searchValue: null,\n        };\n\n        let localSaved = localStorage.getItem(\"bookmarks\");\n\n\n        if (localSaved){\n            this.state.bookmarkedArticles = JSON.parse(localSaved);\n        }\n\n        this.updateNewsSource = this.updateNewsSource.bind(this);\n        this.doneSwitchingArticles = this.doneSwitchingArticles.bind(this);\n\n        this.showBookmarked = this.showBookmarked.bind(this);\n        this.showToggle = this.showToggle.bind(this);\n        this.hideToggle = this.hideToggle.bind(this);\n        this.search = this.search.bind(this)\n    }\n\n    componentDidMount(){\n        document.title = \"CSCI 571 NewsApp\";\n        this.setState({showToggle: true});\n    }\n\n    updateNewsSource(checked) {\n        this.setState({checked: checked, isChanging: true});\n        localStorage.setItem('checked', checked);\n        // console.log(\"from parent\", checked)\n    }\n\n    doneSwitchingArticles(){\n        this.setState({isChanging: false});\n        console.log(\"from parent doneChange: \", this.state.isChanging)\n    }\n\n\n    showBookmarked() {\n        if (this.state.showBookmarks){\n            this.setState({showBookmarks: false, showToggle: true});\n        }\n        else {\n            this.setState({showBookmarks: true});\n        }\n    }\n\n    hideToggle(){\n        this.setState({showToggle: false});\n    }\n\n    showToggle() {\n        this.setState({showToggle: true, showBookmarks: false, searchValue: null});\n    }\n\n    removeBookmark(article) {\n\n        let newArray = this.state.bookmarkedArticles.filter(a => a.url !== article.url);\n        this.setState({bookmarkedArticles: newArray});\n        localStorage.setItem(\"bookmarks\", JSON.stringify(newArray));\n\n        toast(\"Removing \"+article.webTitle, {\n            className: 'foo-bar',\n            position: toast.POSITION.TOP_CENTER\n        });\n\n    }\n\n    inBookmarks(article) {\n        let newArray = this.state.bookmarkedArticles;\n        // return newArray.filter(a => a.url === article.url).length === 0\n        return newArray.some(a => a.url === article.url);\n    }\n\n    addBookmark(article){\n        let newArray = this.state.bookmarkedArticles;\n\n        if (!this.inBookmarks(article)){\n            newArray.push(article);\n            this.setState({bookmarkedArticles: newArray});\n\n            toast(\"Saving \"+article.webTitle, {\n                className: 'foo-bar',\n                position: toast.POSITION.TOP_CENTER\n            });\n\n            localStorage.setItem(\"bookmarks\", JSON.stringify(newArray));\n        }\n    }\n\n    resetSearch(){\n        this.setState({searchValue: null});\n    }\n\n    search(keyword){\n        console.log(keyword);\n        this.setState({searchValue: { value: keyword, label: keyword }});\n    }\n\n    render() {\n        return (\n\n            <Container fluid>\n\n                <Router>\n\n                <Navbar bg=\"grad\" expand=\"lg\" variant=\"dark\">\n\n                    <Col xs={10} md={4}>\n                        <SearchWithRouter search={this.search.bind(this)} searchValue={this.state.searchValue}/>\n                    </Col>\n\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\n\n                        <Nav className=\"mr-auto\">\n\n                            <Link onClick={this.showToggle} to=\"/\" className=\"nav-link\" >Home</Link>\n                            <Link onClick={this.showToggle} to=\"/world\" className=\"nav-link\"  >World</Link>\n                            <Link onClick={this.showToggle} to=\"/politics\" className=\"nav-link\"  >Politics</Link>\n                            <Link onClick={this.showToggle} to=\"/business\" className=\"nav-link\"  >Business</Link>\n                            <Link onClick={this.showToggle} to=\"/technology\" className=\"nav-link\"  >Technology</Link>\n                            <Link onClick={this.showToggle} to=\"/sports\" className=\"nav-link\"  >Sports</Link>\n\n                        </Nav>\n\n                        <div className=\"bookmark\" data-tip=\"Bookmark\" data-place=\"bottom\" data-effect=\"solid\" onClick={this.showBookmarked}> {this.state.showBookmarks &&  <FaBookmark  size={16}/> || <FaRegBookmark size={16}/>}  </div>\n                        <ReactTooltip/>\n\n                        {this.state.showBookmarks && <Redirect to={\"/favorites\"} /> || <Redirect to={\"/\"} />}\n                        {this.state.showToggle && !this.state.showBookmarks &&  <SwitchExample updateNewsSource={this.updateNewsSource.bind(this)} checked={this.state.checked} /> }\n\n                    </Navbar.Collapse>\n\n                </Navbar>\n\n                    <Container fluid>\n\n                    <Switcher>\n\n                        <Route path=\"/article\" render={(props) => <FullPageArticle {...props}\n                                                                                   inBookmarks={this.inBookmarks.bind(this)}\n                                                                                   addBookmark={this.addBookmark.bind(this)}\n                                                                                   removeBookmark={this.removeBookmark.bind(this)}\n                                                                                   hideToggle={this.hideToggle.bind(this)}\n                                                                                   resetSearch={this.resetSearch.bind(this)}/>}>\n\n                        </Route>\n\n                        <Route path=\"/world\">\n                            <ArticleCardGenerator cols={12} appState={this.state} section={\"world\"} onComplete={this.doneSwitchingArticles.bind(this)}/>\n                        </Route>\n\n                        <Route path=\"/politics\">\n                            <ArticleCardGenerator cols={12} appState={this.state} section={\"politics\"} onComplete={this.doneSwitchingArticles.bind(this)}/>\n                        </Route>\n\n                        <Route path=\"/business\">\n                            <ArticleCardGenerator cols={12} appState={this.state} section={\"business\"} onComplete={this.doneSwitchingArticles.bind(this)}/>\n                        </Route>\n\n                        <Route path=\"/technology\">\n                            <ArticleCardGenerator cols={12} appState={this.state} section={\"technology\"} onComplete={this.doneSwitchingArticles.bind(this)}/>\n                        </Route>\n\n                        <Route path=\"/sports\">\n                            <ArticleCardGenerator cols={12} appState={this.state} section={\"sport\"}  onComplete={this.doneSwitchingArticles.bind(this)}/>\n                        </Route>\n\n\n                        <Route path=\"/search\" render={(props) => <SearchResultsPage {...props} hideToggle={this.hideToggle.bind(this)} />}>\n\n                        </Route>\n\n\n                        <Route path=\"/favorites\">\n\n\n                                {this.state.bookmarkedArticles.length === 0 && <h2 className={\"noArticles centered mt-3\"}>You have no saved articles</h2>}\n                                {this.state.bookmarkedArticles.length !== 0 && <h2 className={\"centered mt-3\"}>Favorites</h2>}\n\n                                <Row>\n\n                                {\n                                    this.state.bookmarkedArticles.map(article => (\n                                        <FullArticle type= {\"small\"} cols={3} source={article}  key={article.webTitle} removeBookmark={this.removeBookmark.bind(this)}/>\n                                    ))\n                                }\n\n                                </Row>\n\n                        </Route>\n\n\n                        <Route path=\"/\">\n                                <ArticleCardGenerator  cols={12} appState={this.state} section={\"\"} onComplete={this.doneSwitchingArticles.bind(this)}/>\n                        </Route>\n\n                    </Switcher>\n\n                    </Container>\n\n                </Router>\n\n            </Container>\n\n        )\n    }\n\n}\n\nexport default NewsApp;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}